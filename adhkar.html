<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<title>Adhkar â€” Ø§Ù„Ø£Ø°ÙƒØ§Ø±</title>
<meta name="description" content="Adhkar du matin, du soir et aprÃ¨s la priÃ¨re"/>
<meta name="theme-color" content="#0a0d14"/>
<link rel="manifest" href="manifest.json"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cinzel:wght@400;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="style.css"/>
<style>
/* Extra styles for adhkar page */
.reset-wrap {
  text-align: center;
  padding: 10px 20px 30px;
}

.reset-btn {
  background: rgba(201,168,76,.08);
  border: 1px solid rgba(201,168,76,.15);
  color: var(--text-dim);
  font-size: .72rem;
  padding: 8px 20px;
  border-radius: 10px;
  transition: all .2s;
  letter-spacing: .06em;
}

.reset-btn:hover {
  color: var(--gold);
  border-color: var(--gold);
  background: rgba(201,168,76,.15);
}

.progress-summary {
  text-align: center;
  padding: 16px 20px 6px;
  max-width: 700px;
  margin: 0 auto;
}

.progress-summary-text {
  font-family: 'Cinzel', serif;
  font-size: .75rem;
  color: var(--gold);
  letter-spacing: .1em;
}

.progress-summary-bar {
  width: 200px;
  height: 4px;
  background: rgba(201,168,76,.15);
  border-radius: 99px;
  overflow: hidden;
  margin: 8px auto 0;
}

.progress-summary-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--teal), var(--teal-light));
  border-radius: 99px;
  transition: width .5s;
}

.completed-overlay {
  position: fixed;
  inset: 0;
  background: rgba(10,13,20,.9);
  z-index: 500;
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  backdrop-filter: blur(6px);
}

.completed-overlay.show {
  display: flex;
}

.completed-icon {
  font-size: 4rem;
  animation: float 3s ease-in-out infinite;
}

.completed-text {
  font-family: 'Amiri', serif;
  font-size: 1.5rem;
  color: var(--gold-light);
  text-align: center;
  direction: rtl;
}

.completed-sub {
  font-size: .9rem;
  color: var(--text-dim);
  text-align: center;
  max-width: 300px;
}

.completed-close {
  background: var(--gold);
  color: var(--night);
  border: none;
  padding: 12px 30px;
  border-radius: 12px;
  font-family: 'Cinzel', serif;
  font-size: .85rem;
  font-weight: 700;
  margin-top: 10px;
  letter-spacing: .08em;
}

.completed-close:hover {
  filter: brightness(1.1);
}
</style>
</head>
<body>

<!-- Background -->
<div class="bg-glow"></div>
<div class="bg-pattern">
  <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
    <defs><pattern id="geo" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
      <polygon points="20,2 38,11 38,29 20,38 2,29 2,11" fill="none" stroke="#c9a84c" stroke-width="0.5"/>
      <polygon points="20,8 32,14 32,26 20,32 8,26 8,14" fill="none" stroke="#c9a84c" stroke-width="0.3"/>
    </pattern></defs>
    <rect width="200" height="200" fill="url(#geo)"/>
  </svg>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<!-- Completed overlay -->
<div class="completed-overlay" id="completed-overlay">
  <div class="completed-icon">ğŸ‰</div>
  <div class="completed-text">ØªÙÙ‚ÙØ¨ÙÙ‘Ù„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù…ÙÙ†ÙÙ‘Ø§ ÙˆÙÙ…ÙÙ†ÙƒÙÙ…</div>
  <div class="completed-sub">Tous les adhkar de cette catÃ©gorie sont terminÃ©s !<br>Qu'Allah accepte de nous et de vous.</div>
  <button class="completed-close" onclick="closeCompleted()">Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ â€” Alhamdulillah</button>
</div>

<!-- Header -->
<div class="section-header">
  <a href="index.html" class="sec-back" id="back-btn">â† Accueil</a>
  <div class="sec-title-area">
    <div class="sec-title" id="page-title">Ø§Ù„Ø£Ø°ÙƒØ§Ø±</div>
    <div class="sec-subtitle" id="page-subtitle">Rappels Quotidiens</div>
  </div>
  <div class="sec-actions"></div>
</div>

<!-- Progress -->
<div class="progress-summary" id="progress-area" style="display:none;">
  <div class="progress-summary-text" id="progress-text">0 / 0 terminÃ©s</div>
  <div class="progress-summary-bar">
    <div class="progress-summary-fill" id="progress-fill" style="width:0%"></div>
  </div>
</div>

<!-- Content -->
<div id="content"></div>

<!-- Reset (shown inside category) -->
<div class="reset-wrap" id="reset-wrap" style="display:none;">
  <button class="reset-btn" onclick="resetCategory()">ğŸ”„ RÃ©initialiser les compteurs</button>
</div>

<!-- Footer -->
<footer id="page-footer">
  <div class="footer-dua">Ø³ÙØ¨Ù’Ø­ÙØ§Ù†ÙÙƒÙ Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙƒÙ Ø£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø£ÙÙ†ØªÙ Ø£ÙØ³Ù’ØªÙØºÙ’ÙÙØ±ÙÙƒÙ ÙˆÙØ£ÙØªÙÙˆØ¨Ù Ø¥ÙÙ„ÙÙŠÙ’ÙƒÙ ğŸ¤²</div>
  <div class="footer-credit">
    Made with â¤ï¸ by <a href="https://github.com/lem2003" target="_blank">Mouhamadou</a>
  </div>
</footer>

<script>
/* ================================================================
   ADHKAR DATA
   ================================================================ */
var CATEGORIES = [
  {id:'morning', icon:'ğŸŒ…', ar:'Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­', fr:'Adhkar du Matin', desc:'Ã€ dire aprÃ¨s Salat Al-Fajr'},
  {id:'evening', icon:'ğŸŒ†', ar:'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡', fr:'Adhkar du Soir', desc:'Ã€ dire aprÃ¨s Salat Al-Asr'},
  {id:'after_salah', icon:'ğŸ•Œ', ar:'Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©', fr:'AprÃ¨s la PriÃ¨re', desc:'Ã€ dire aprÃ¨s chaque priÃ¨re obligatoire'},
  {id:'sleep', icon:'ğŸŒ™', ar:'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…', fr:'Adhkar du Sommeil', desc:'Ã€ dire avant de dormir'},
  {id:'wakeup', icon:'â˜€ï¸', ar:'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸', fr:'Adhkar du RÃ©veil', desc:'Ã€ dire au rÃ©veil'},
  {id:'misc', icon:'ğŸ“¿', ar:'Ø£Ø°ÙƒØ§Ø± Ù…ØªÙ†ÙˆØ¹Ø©', fr:'Adhkar Divers', desc:'Dhikr Ã  tout moment'},
];

var ADHKAR = [
  // === MORNING ===
  {cat:'morning', title:'Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù Ûš Ù„ÙØ§ ØªÙØ£Ù’Ø®ÙØ°ÙÙ‡Ù Ø³ÙÙ†ÙØ©ÙŒ ÙˆÙÙ„ÙØ§ Ù†ÙÙˆÙ’Ù…ÙŒ Ûš Ù„ÙÙ‘Ù‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù Û— Ù…ÙÙ† Ø°ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠ ÙŠÙØ´Ù’ÙÙØ¹Ù Ø¹ÙÙ†Ø¯ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙØ¥ÙØ°Ù’Ù†ÙÙ‡Ù Ûš ÙŠÙØ¹Ù’Ù„ÙÙ…Ù Ù…ÙØ§ Ø¨ÙÙŠÙ’Ù†Ù Ø£ÙÙŠÙ’Ø¯ÙÙŠÙ‡ÙÙ…Ù’ ÙˆÙÙ…ÙØ§ Ø®ÙÙ„Ù’ÙÙÙ‡ÙÙ…Ù’ Û– ÙˆÙÙ„ÙØ§ ÙŠÙØ­ÙÙŠØ·ÙÙˆÙ†Ù Ø¨ÙØ´ÙÙŠÙ’Ø¡Ù Ù…ÙÙ‘Ù†Ù’ Ø¹ÙÙ„Ù’Ù…ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙÙ…ÙØ§ Ø´ÙØ§Ø¡Ù Ûš ÙˆÙØ³ÙØ¹Ù ÙƒÙØ±Ù’Ø³ÙÙŠÙÙ‘Ù‡Ù Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙØ§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù Û– ÙˆÙÙ„ÙØ§ ÙŠÙØ¦ÙÙˆØ¯ÙÙ‡Ù Ø­ÙÙÙ’Ø¸ÙÙ‡ÙÙ…ÙØ§ Ûš ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙÙ‘ Ø§Ù„Ù’Ø¹ÙØ¸ÙÙŠÙ…Ù', fr:'Ayat al-Kursi â€” Le Verset du TrÃ´ne', src:'Coran 2:255', count:1},

  {cat:'morning', title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ', ar:'Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ Û Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØµÙÙ‘Ù…ÙØ¯Ù Û Ù„ÙÙ…Ù’ ÙŠÙÙ„ÙØ¯Ù’ ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙˆÙ„ÙØ¯Ù’ Û ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙƒÙÙ† Ù„ÙÙ‘Ù‡Ù ÙƒÙÙÙÙˆÙ‹Ø§ Ø£ÙØ­ÙØ¯ÙŒ', fr:'Sourate Al-Ikhlas â€” Le MonothÃ©isme Pur', src:'Coran 112', count:3},

  {cat:'morning', title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙÙ„Ù‚', ar:'Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ø§Ù„Ù’ÙÙÙ„ÙÙ‚Ù Û Ù…ÙÙ† Ø´ÙØ±ÙÙ‘ Ù…ÙØ§ Ø®ÙÙ„ÙÙ‚Ù Û ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ ØºÙØ§Ø³ÙÙ‚Ù Ø¥ÙØ°ÙØ§ ÙˆÙÙ‚ÙØ¨Ù Û ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø§Ù„Ù†ÙÙ‘ÙÙÙ‘Ø§Ø«ÙØ§ØªÙ ÙÙÙŠ Ø§Ù„Ù’Ø¹ÙÙ‚ÙØ¯Ù Û ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø­ÙØ§Ø³ÙØ¯Ù Ø¥ÙØ°ÙØ§ Ø­ÙØ³ÙØ¯Ù', fr:'Sourate Al-Falaq â€” L\'Aube Naissante', src:'Coran 113', count:3},

  {cat:'morning', title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø§Ø³', ar:'Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Û Ù…ÙÙ„ÙÙƒÙ Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Û Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Û Ù…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø§Ù„Ù’ÙˆÙØ³Ù’ÙˆÙØ§Ø³Ù Ø§Ù„Ù’Ø®ÙÙ†ÙÙ‘Ø§Ø³Ù Û Ø§Ù„ÙÙ‘Ø°ÙÙŠ ÙŠÙÙˆÙØ³Ù’ÙˆÙØ³Ù ÙÙÙŠ ØµÙØ¯ÙÙˆØ±Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Û Ù…ÙÙ†Ù Ø§Ù„Ù’Ø¬ÙÙ†ÙÙ‘Ø©Ù ÙˆÙØ§Ù„Ù†ÙÙ‘Ø§Ø³Ù', fr:'Sourate An-Nas â€” Les Hommes', src:'Coran 114', count:3},

  {cat:'morning', ar:'Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ£ÙØµÙ’Ø¨ÙØ­Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡Ù Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ', fr:'Nous voilÃ  au matin et le royaume appartient Ã  Allah. Louange Ã  Allah. Il n\'y a de divinitÃ© qu\'Allah seul, sans associÃ©. Ã€ Lui la souverainetÃ©, Ã  Lui la louange et Il est capable de toute chose.', src:'Muslim', count:1},

  {cat:'morning', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø§Ù„Ù’Ø¹ÙÙÙ’ÙˆÙ ÙˆÙØ§Ù„Ù’Ø¹ÙØ§ÙÙÙŠÙØ©Ù ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙØ§ ÙˆÙØ§Ù„Ø¢Ø®ÙØ±ÙØ©Ù', fr:'Ã” Allah, je Te demande le pardon et la santÃ© dans ce monde et dans l\'au-delÃ .', src:'Ibn Majah', count:1},

  {cat:'morning', ar:'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ù„ÙØ§ ÙŠÙØ¶ÙØ±ÙÙ‘ Ù…ÙØ¹Ù Ø§Ø³Ù’Ù…ÙÙ‡Ù Ø´ÙÙŠÙ’Ø¡ÙŒ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ„ÙØ§ ÙÙÙŠ Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§Ø¡Ù ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ø³ÙÙ‘Ù…ÙÙŠØ¹Ù Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙ…Ù', fr:'Au nom d\'Allah, rien ne peut nuire avec Son nom, ni sur terre ni au ciel, et Il est l\'Audient, l\'Omniscient.', src:'Abu Dawud', count:3},

  {cat:'morning', ar:'Ø±ÙØ¶ÙÙŠØªÙ Ø¨ÙØ§Ù„Ù„ÙÙ‘Ù‡Ù Ø±ÙØ¨Ù‹Ù‘Ø§ ÙˆÙØ¨ÙØ§Ù„Ù’Ø¥ÙØ³Ù’Ù„ÙØ§Ù…Ù Ø¯ÙÙŠÙ†Ù‹Ø§ ÙˆÙØ¨ÙÙ…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù ØµÙÙ„ÙÙ‘Ù‰ Ø§Ù„Ù„Ù‡Ù Ø¹ÙÙ„ÙÙŠÙ’Ù‡Ù ÙˆÙØ³ÙÙ„ÙÙ‘Ù…Ù Ù†ÙØ¨ÙÙŠÙ‹Ù‘Ø§', fr:'J\'accepte Allah comme Seigneur, l\'Islam comme religion et Muhammad ï·º comme prophÃ¨te.', src:'Abu Dawud', count:3},

  {cat:'morning', title:'Ø§Ù„ØªØ³Ø¨ÙŠØ­', ar:'Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù', fr:'Gloire et louange Ã  Allah.', src:'Muslim', count:100},

  {cat:'morning', title:'Ø§Ù„ØªÙ‡Ù„ÙŠÙ„', ar:'Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡Ù Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ', fr:'Il n\'y a de divinitÃ© qu\'Allah seul, sans associÃ©. Ã€ Lui la souverainetÃ©, Ã  Lui la louange et Il est capable de toute chose.', src:'Al-Bukhari & Muslim', count:10},

  {cat:'morning', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ ØµÙÙ„ÙÙ‘ ÙˆÙØ³ÙÙ„ÙÙ‘Ù…Ù’ Ø¹ÙÙ„ÙÙ‰ Ù†ÙØ¨ÙÙŠÙÙ‘Ù†ÙØ§ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù', fr:'Ã” Allah, accorde Ta grÃ¢ce et Ta paix Ã  notre prophÃ¨te Muhammad ï·º.', src:'At-Tirmidhi', count:10},

  // === EVENING ===
  {cat:'evening', title:'Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù Ûš Ù„ÙØ§ ØªÙØ£Ù’Ø®ÙØ°ÙÙ‡Ù Ø³ÙÙ†ÙØ©ÙŒ ÙˆÙÙ„ÙØ§ Ù†ÙÙˆÙ’Ù…ÙŒ Ûš Ù„ÙÙ‘Ù‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù', fr:'Ayat al-Kursi â€” Le Verset du TrÃ´ne', src:'Coran 2:255', count:1},

  {cat:'evening', title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ', ar:'Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ Û Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØµÙÙ‘Ù…ÙØ¯Ù Û Ù„ÙÙ…Ù’ ÙŠÙÙ„ÙØ¯Ù’ ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙˆÙ„ÙØ¯Ù’ Û ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙƒÙÙ† Ù„ÙÙ‘Ù‡Ù ÙƒÙÙÙÙˆÙ‹Ø§ Ø£ÙØ­ÙØ¯ÙŒ', fr:'Sourate Al-Ikhlas', src:'Coran 112', count:3},

  {cat:'evening', title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙÙ„Ù‚', ar:'Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ø§Ù„Ù’ÙÙÙ„ÙÙ‚Ù Û Ù…ÙÙ† Ø´ÙØ±ÙÙ‘ Ù…ÙØ§ Ø®ÙÙ„ÙÙ‚Ù Û ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ ØºÙØ§Ø³ÙÙ‚Ù Ø¥ÙØ°ÙØ§ ÙˆÙÙ‚ÙØ¨Ù Û ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø§Ù„Ù†ÙÙ‘ÙÙÙ‘Ø§Ø«ÙØ§ØªÙ ÙÙÙŠ Ø§Ù„Ù’Ø¹ÙÙ‚ÙØ¯Ù Û ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø­ÙØ§Ø³ÙØ¯Ù Ø¥ÙØ°ÙØ§ Ø­ÙØ³ÙØ¯Ù', fr:'Sourate Al-Falaq', src:'Coran 113', count:3},

  {cat:'evening', title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø§Ø³', ar:'Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Û Ù…ÙÙ„ÙÙƒÙ Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Û Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Û Ù…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø§Ù„Ù’ÙˆÙØ³Ù’ÙˆÙØ§Ø³Ù Ø§Ù„Ù’Ø®ÙÙ†ÙÙ‘Ø§Ø³Ù Û Ø§Ù„ÙÙ‘Ø°ÙÙŠ ÙŠÙÙˆÙØ³Ù’ÙˆÙØ³Ù ÙÙÙŠ ØµÙØ¯ÙÙˆØ±Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Û Ù…ÙÙ†Ù Ø§Ù„Ù’Ø¬ÙÙ†ÙÙ‘Ø©Ù ÙˆÙØ§Ù„Ù†ÙÙ‘Ø§Ø³Ù', fr:'Sourate An-Nas', src:'Coran 114', count:3},

  {cat:'evening', ar:'Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ ÙˆÙØ£ÙÙ…Ù’Ø³ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡Ù Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ', fr:'Nous voilÃ  au soir et le royaume appartient Ã  Allah...', src:'Muslim', count:1},

  {cat:'evening', ar:'Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙÙ„ÙÙ…ÙØ§ØªÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØªÙÙ‘Ø§Ù…ÙÙ‘Ø§ØªÙ Ù…ÙÙ†Ù’ Ø´ÙØ±ÙÙ‘ Ù…ÙØ§ Ø®ÙÙ„ÙÙ‚Ù', fr:'Je cherche refuge auprÃ¨s des paroles parfaites d\'Allah contre le mal de ce qu\'Il a crÃ©Ã©.', src:'Muslim', count:3},

  {cat:'evening', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø§Ù„Ù’Ø¹ÙÙÙ’ÙˆÙ ÙˆÙØ§Ù„Ù’Ø¹ÙØ§ÙÙÙŠÙØ©Ù ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙØ§ ÙˆÙØ§Ù„Ø¢Ø®ÙØ±ÙØ©Ù', fr:'Ã” Allah, je Te demande le pardon et la santÃ© dans ce monde et dans l\'au-delÃ .', src:'Ibn Majah', count:1},

  {cat:'evening', title:'Ø§Ù„ØªØ³Ø¨ÙŠØ­', ar:'Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù', fr:'Gloire et louange Ã  Allah.', src:'Muslim', count:100},

  {cat:'evening', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ ØµÙÙ„ÙÙ‘ ÙˆÙØ³ÙÙ„ÙÙ‘Ù…Ù’ Ø¹ÙÙ„ÙÙ‰ Ù†ÙØ¨ÙÙŠÙÙ‘Ù†ÙØ§ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù', fr:'Ã” Allah, accorde Ta grÃ¢ce et Ta paix Ã  notre prophÃ¨te Muhammad ï·º.', src:'At-Tirmidhi', count:10},

  // === AFTER SALAH ===
  {cat:'after_salah', ar:'Ø£ÙØ³Ù’ØªÙØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ØŒ Ø£ÙØ³Ù’ØªÙØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ØŒ Ø£ÙØ³Ù’ØªÙØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù', fr:'Je demande pardon Ã  Allah (3 fois).', src:'Muslim', count:3},

  {cat:'after_salah', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø£ÙÙ†Ù’ØªÙ Ø§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù ÙˆÙÙ…ÙÙ†Ù’ÙƒÙ Ø§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù ØªÙØ¨ÙØ§Ø±ÙÙƒÙ’ØªÙ ÙŠÙØ§ Ø°ÙØ§ Ø§Ù„Ù’Ø¬ÙÙ„ÙØ§Ù„Ù ÙˆÙØ§Ù„Ù’Ø¥ÙÙƒÙ’Ø±ÙØ§Ù…Ù', fr:'Ã” Allah, Tu es la Paix, de Toi vient la paix. BÃ©ni sois-Tu, Ã´ DÃ©tenteur de la majestÃ© et de la gÃ©nÃ©rositÃ©.', src:'Muslim', count:1},

  {cat:'after_salah', ar:'Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡Ù Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ù„ÙØ§ Ù…ÙØ§Ù†ÙØ¹Ù Ù„ÙÙ…ÙØ§ Ø£ÙØ¹Ù’Ø·ÙÙŠÙ’ØªÙ ÙˆÙÙ„ÙØ§ Ù…ÙØ¹Ù’Ø·ÙÙŠÙ Ù„ÙÙ…ÙØ§ Ù…ÙÙ†ÙØ¹Ù’ØªÙ ÙˆÙÙ„ÙØ§ ÙŠÙÙ†Ù’ÙÙØ¹Ù Ø°ÙØ§ Ø§Ù„Ù’Ø¬ÙØ¯ÙÙ‘ Ù…ÙÙ†Ù’ÙƒÙ Ø§Ù„Ù’Ø¬ÙØ¯ÙÙ‘', fr:'Il n\'y a de divinitÃ© qu\'Allah seul, sans associÃ©... Ã” Allah, nul ne peut retenir ce que Tu donnes et nul ne peut donner ce que Tu retiens.', src:'Al-Bukhari & Muslim', count:1},

  {cat:'after_salah', title:'Ø§Ù„ØªØ³Ø¨ÙŠØ­ Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©', ar:'Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù', fr:'Gloire Ã  Allah.', src:'Muslim', count:33},

  {cat:'after_salah', title:'Ø§Ù„ØªØ­Ù…ÙŠØ¯ Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©', ar:'Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù', fr:'Louange Ã  Allah.', src:'Muslim', count:33},

  {cat:'after_salah', title:'Ø§Ù„ØªÙƒØ¨ÙŠØ± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù', fr:'Allah est le Plus Grand.', src:'Muslim', count:34},

  {cat:'after_salah', title:'Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù', fr:'Ayat al-Kursi aprÃ¨s chaque priÃ¨re.', src:'An-Nasai', count:1},

  // === SLEEP ===
  {cat:'sleep', title:'Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù Ûš Ù„ÙØ§ ØªÙØ£Ù’Ø®ÙØ°ÙÙ‡Ù Ø³ÙÙ†ÙØ©ÙŒ ÙˆÙÙ„ÙØ§ Ù†ÙÙˆÙ’Ù…ÙŒ', fr:'Ayat al-Kursi â€” qui la rÃ©cite avant de dormir, Allah lui envoie un gardien.', src:'Al-Bukhari', count:1},

  {cat:'sleep', ar:'Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙ Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø£ÙÙ…ÙÙˆØªÙ ÙˆÙØ£ÙØ­Ù’ÙŠÙØ§', fr:'En Ton nom, Ã´ Allah, je meurs et je vis.', src:'Al-Bukhari', count:1},

  {cat:'sleep', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ù‚ÙÙ†ÙÙŠ Ø¹ÙØ°ÙØ§Ø¨ÙÙƒÙ ÙŠÙÙˆÙ’Ù…Ù ØªÙØ¨Ù’Ø¹ÙØ«Ù Ø¹ÙØ¨ÙØ§Ø¯ÙÙƒÙ', fr:'Ã” Allah, prÃ©serve-moi de Ton chÃ¢timent le jour oÃ¹ Tu ressusciteras Tes serviteurs.', src:'Abu Dawud', count:3},

  {cat:'sleep', title:'Ø§Ù„ØªØ³Ø¨ÙŠØ­', ar:'Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù', fr:'Gloire Ã  Allah.', src:'Al-Bukhari & Muslim', count:33},

  {cat:'sleep', title:'Ø§Ù„ØªØ­Ù…ÙŠØ¯', ar:'Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù', fr:'Louange Ã  Allah.', src:'Al-Bukhari & Muslim', count:33},

  {cat:'sleep', title:'Ø§Ù„ØªÙƒØ¨ÙŠØ±', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù', fr:'Allah est le Plus Grand.', src:'Al-Bukhari & Muslim', count:34},

  {cat:'sleep', title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ ÙˆØ§Ù„Ù…Ø¹ÙˆØ°ØªÙŠÙ†', ar:'Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ ... Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ø§Ù„Ù’ÙÙÙ„ÙÙ‚Ù ... Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù', fr:'RÃ©citer les 3 sourates protectrices et passer les mains sur le corps.', src:'Al-Bukhari', count:3},

  // === WAKE UP ===
  {cat:'wakeup', ar:'Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø£ÙØ­Ù’ÙŠÙØ§Ù†ÙØ§ Ø¨ÙØ¹Ù’Ø¯Ù Ù…ÙØ§ Ø£ÙÙ…ÙØ§ØªÙÙ†ÙØ§ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’Ù‡Ù Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù', fr:'Louange Ã  Allah qui nous a redonnÃ© la vie aprÃ¨s nous avoir fait mourir, et c\'est vers Lui la rÃ©surrection.', src:'Al-Bukhari', count:1},

  {cat:'wakeup', ar:'Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡Ù Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù ÙˆÙÙ„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù ÙˆÙÙ„ÙØ§ Ø­ÙÙˆÙ’Ù„Ù ÙˆÙÙ„ÙØ§ Ù‚ÙÙˆÙÙ‘Ø©Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙØ§Ù„Ù„ÙÙ‘Ù‡Ù', fr:'Celui qui dit cela au rÃ©veil puis invoque Allah, son invocation sera exaucÃ©e.', src:'Al-Bukhari', count:1},

  // === MISC ===
  {cat:'misc', title:'Ø§Ù„Ø§Ø³ØªØºÙØ§Ø±', ar:'Ø£ÙØ³Ù’ØªÙØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ£ÙØªÙÙˆØ¨Ù Ø¥ÙÙ„ÙÙŠÙ’Ù‡Ù', fr:'Je demande pardon Ã  Allah et je me repens Ã  Lui. Le ProphÃ¨te ï·º le faisait plus de 70 fois par jour.', src:'Al-Bukhari', count:100},

  {cat:'misc', title:'Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ', ar:'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ ØµÙÙ„ÙÙ‘ ÙˆÙØ³ÙÙ„ÙÙ‘Ù…Ù’ Ø¹ÙÙ„ÙÙ‰ Ù†ÙØ¨ÙÙŠÙÙ‘Ù†ÙØ§ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù', fr:'Ã” Allah, accorde Ta grÃ¢ce et Ta paix Ã  notre prophÃ¨te Muhammad ï·º.', src:'Muslim', count:100},

  {cat:'misc', title:'Ø§Ù„ØªØ³Ø¨ÙŠØ­', ar:'Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ù’Ø¹ÙØ¸ÙÙŠÙ…Ù', fr:'Gloire et louange Ã  Allah, Gloire Ã  Allah le TrÃ¨s Grand. Deux paroles lÃ©gÃ¨res sur la langue, lourdes dans la balance, aimÃ©es du Tout MisÃ©ricordieux.', src:'Al-Bukhari & Muslim', count:100},

  {cat:'misc', ar:'Ù„ÙØ§ Ø­ÙÙˆÙ’Ù„Ù ÙˆÙÙ„ÙØ§ Ù‚ÙÙˆÙÙ‘Ø©Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙØ§Ù„Ù„ÙÙ‘Ù‡Ù', fr:'Il n\'y a de force ni de puissance qu\'en Allah. C\'est un trÃ©sor parmi les trÃ©sors du Paradis.', src:'Al-Bukhari & Muslim', count:100},
];

// Count per category
CATEGORIES.forEach(function(cat) {
  cat.count = ADHKAR.filter(function(d) { return d.cat === cat.id; }).length;
});

/* ================================================================
   STATE
   ================================================================ */
var currentCat = null;
var counters = JSON.parse(localStorage.getItem('q_counters') || '{}');

function saveCounters() {
  localStorage.setItem('q_counters', JSON.stringify(counters));
}

/* ================================================================
   TOAST
   ================================================================ */
function showToast(msg) {
  var t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(function() { t.classList.remove('show'); }, 3000);
}

/* ================================================================
   COMPLETED OVERLAY
   ================================================================ */
function showCompleted() {
  document.getElementById('completed-overlay').classList.add('show');
}

function closeCompleted() {
  document.getElementById('completed-overlay').classList.remove('show');
}

/* ================================================================
   RENDER CATEGORIES
   ================================================================ */
function renderCategories() {
  currentCat = null;
  document.getElementById('page-title').textContent = 'Ø§Ù„Ø£Ø°ÙƒØ§Ø±';
  document.getElementById('page-subtitle').textContent = 'Rappels Quotidiens';
  document.getElementById('back-btn').href = 'index.html';
  document.getElementById('back-btn').textContent = 'â† Accueil';
  document.getElementById('back-btn').onclick = null;
  document.getElementById('page-footer').style.display = '';
  document.getElementById('reset-wrap').style.display = 'none';
  document.getElementById('progress-area').style.display = 'none';

  var content = document.getElementById('content');
  content.innerHTML = '';

  var wrap = document.createElement('div');
  wrap.className = 'adhkar-cats';

  CATEGORIES.forEach(function(cat) {
    // Calculate completion
    var items = ADHKAR.filter(function(d) { return d.cat === cat.id; });
    var completed = 0;
    items.forEach(function(item, i) {
      var key = cat.id + '_' + i;
      var val = counters[key] || 0;
      if (val >= item.count) completed++;
    });

    var el = document.createElement('div');
    el.className = 'adhkar-cat';
    el.innerHTML =
      '<span class="adhkar-cat-icon">' + cat.icon + '</span>' +
      '<div class="adhkar-cat-info">' +
        '<div class="adhkar-cat-ar">' + cat.ar + '</div>' +
        '<div class="adhkar-cat-name">' + cat.fr + ' â€” ' + cat.desc + '</div>' +
      '</div>' +
      '<div class="adhkar-cat-count">' + completed + '/' + cat.count + '</div>';
    el.addEventListener('click', function() { openCategory(cat); });
    wrap.appendChild(el);
  });

  content.appendChild(wrap);
}

/* ================================================================
   OPEN CATEGORY
   ================================================================ */
function openCategory(cat) {
  currentCat = cat;
  document.getElementById('page-title').textContent = cat.ar;
  document.getElementById('page-subtitle').textContent = cat.fr;
  document.getElementById('page-footer').style.display = 'none';
  document.getElementById('reset-wrap').style.display = '';
  document.getElementById('progress-area').style.display = '';

  var backBtn = document.getElementById('back-btn');
  backBtn.href = '#';
  backBtn.textContent = 'â† CatÃ©gories';
  backBtn.onclick = function(e) {
    e.preventDefault();
    renderCategories();
  };

  var content = document.getElementById('content');
  content.innerHTML = '';

  var list = document.createElement('div');
  list.className = 'content-list';

  var items = ADHKAR.filter(function(d) { return d.cat === cat.id; });

  items.forEach(function(dhikr, i) {
    var key = cat.id + '_' + i;
    var saved = counters[key] || 0;
    var target = dhikr.count || 1;
    var isDone = saved >= target;

    var card = document.createElement('div');
    card.className = 'dua-card';
    card.id = 'dhikr-card-' + key;
    if (isDone) card.style.opacity = '0.6';

    var html = '<div class="dua-card-num">' + (i + 1) + '</div>';
    if (dhikr.title) html += '<div class="dua-card-title">' + dhikr.title + '</div>';
    html += '<div class="dua-card-arabic">' + dhikr.ar.replace(/\n/g, '<br>') + '</div>';
    html += '<div class="dua-card-trans">' + dhikr.fr + '</div>';
    html += '<div class="dua-card-source">ğŸ“š ' + dhikr.src + '</div>';

    // Counter
    html += '<div class="dhikr-counter">';
    html += '<button class="counter-btn' + (isDone ? ' done' : '') + '" ' +
      'id="cbtn-' + key + '" ' +
      'onclick="countDhikr(\'' + key + '\',' + target + ',' + i + ')">' +
      (isDone ? 'âœ“' : '+') + '</button>';
    html += '<div>';
    html += '<div class="counter-display" id="cnt-' + key + '">' + Math.min(saved, target) + '</div>';
    html += '<div class="counter-target">/ ' + target + '</div>';
    html += '</div>';
    html += '</div>';

    card.innerHTML = html;
    list.appendChild(card);
  });

  content.appendChild(list);
  updateCategoryProgress();
  window.scrollTo(0, 0);
}

/* ================================================================
   COUNT DHIKR
   ================================================================ */
function countDhikr(key, target, idx) {
  var val = (counters[key] || 0) + 1;

  if (val > target) {
    // Reset
    val = 0;
  }

  counters[key] = val;
  saveCounters();

  // Update display
  document.getElementById('cnt-' + key).textContent = Math.min(val, target);

  var btn = document.getElementById('cbtn-' + key);
  var card = document.getElementById('dhikr-card-' + key);

  if (val >= target) {
    btn.classList.add('done');
    btn.textContent = 'âœ“';
    if (card) card.style.opacity = '0.6';
    showToast('âœ… BarakAllahu fik !');

    // Check if all done
    checkAllDone();
  } else {
    btn.classList.remove('done');
    btn.textContent = '+';
    if (card) card.style.opacity = '1';
  }

  updateCategoryProgress();
}

/* ================================================================
   PROGRESS
   ================================================================ */
function updateCategoryProgress() {
  if (!currentCat) return;

  var items = ADHKAR.filter(function(d) { return d.cat === currentCat.id; });
  var completed = 0;
  items.forEach(function(item, i) {
    var key = currentCat.id + '_' + i;
    var val = counters[key] || 0;
    if (val >= item.count) completed++;
  });

  var total = items.length;
  var pct = total > 0 ? (completed / total * 100) : 0;

  document.getElementById('progress-text').textContent = completed + ' / ' + total + ' terminÃ©s';
  document.getElementById('progress-fill').style.width = pct + '%';
}

function checkAllDone() {
  if (!currentCat) return;

  var items = ADHKAR.filter(function(d) { return d.cat === currentCat.id; });
  var allDone = true;
  items.forEach(function(item, i) {
    var key = currentCat.id + '_' + i;
    var val = counters[key] || 0;
    if (val < item.count) allDone = false;
  });

  if (allDone) {
    setTimeout(function() { showCompleted(); }, 500);
  }
}

/* ================================================================
   RESET
   ================================================================ */
function resetCategory() {
  if (!currentCat) return;
  if (!confirm('RÃ©initialiser tous les compteurs de "' + currentCat.fr + '" ?')) return;

  var items = ADHKAR.filter(function(d) { return d.cat === currentCat.id; });
  items.forEach(function(item, i) {
    var key = currentCat.id + '_' + i;
    counters[key] = 0;
  });
  saveCounters();
  openCategory(currentCat);
  showToast('ğŸ”„ Compteurs rÃ©initialisÃ©s');
}

/* ================================================================
   CHECK URL PARAMS
   ================================================================ */
function checkParams() {
  var params = new URLSearchParams(window.location.search);
  var cat = params.get('cat');
  if (cat) {
    var found = CATEGORIES.find(function(c) { return c.id === cat; });
    if (found) {
      openCategory(found);
      return;
    }
  }
  renderCategories();
}

/* ================================================================
   INIT
   ================================================================ */
checkParams();
</script>
</body>
</html>
